# Mysql 学习笔记

### Mysql 基本概念

* 数据库：一些关联表的集合。
* 数据表：数据的矩阵，在一个数据库中的表看起来想一个简单的电子表格。
* 列：即字段/数据元素，包含列相同的数据，例如邮政编码的数据。
* 行：即元组/记录，是一组相关的数据，例如一条用户订阅的数据。
* 冗余：存储两倍数据，冗余可以使系统速度更快。
* 主键：主键是唯一的。一个数据表中只能包含一个主键。可以使用主键来查询数据。
* 外键：外键用于关联两个表。



### 创建数据库

#### 基本语法

```mysql
# 创建数据库
CREATE DATABASE 数据库名;

# 使用数据库
USE 数据库名;

# 删除数据库
DROP DATABASE 数据库名;

```

### 创建数据表

```mysql
# 创建数据表
CREATE TABLE [IF NOT EXISTS] tb_name(
	字段名1  字段类型  属性,
    字段名2  字段类型  属性,
    字段名3  字段类型  属性,
    字段名4  字段类型  属性,
    );
```

### MySQL 数据类型

#### 字符串类型

| 类型       | 大小               | 用途                            |
| ---------- | ------------------ | ------------------------------- |
| CHAR       | 0 - 255字节        | 定长字符串                      |
| VARCHAR    | 0 - 65535字节      | 变长字符串                      |
| TINYBLOB   | 0 - 255字节        | 不超过 255 个字符的二进制字符串 |
| TINYTEXT   | 0 - 255字节        | 短文本字符串                    |
| BLOB       | 0 - 65535字节      | 二进制形式的长文本数据          |
| TEXT       | 0 - 65535字节      | 长文本数据                      |
| MEDIUMBLOB | 0 - 16777215字节   | 二进制形式的中等长度文本数据    |
| MEDIUMTEXT | 0 - 16777215字节   | 中等长度文本数据                |
| LONGBLOB   | 0 - 4294967295字节 | 二进制形式的极大文本数据        |
| LONGTEXT   | 0 - 4294967295字节 | 极大文本数据                    |

> **注意**：char(n) 和 varchar(n) 中括号中 n 代表字符的个数，并不代表字节个数，比如 CHAR(30) 就可以存储 30 个字符。
>
> CHAR 和 VARCHAR 类型类似，但它们保存和检索的方式不同。它们的最大长度和是否尾部空格被保留等方面也不同。在存储或检索过程中不进行大小写转换。
>
> BINARY 和 VARBINARY 类似于 CHAR 和 VARCHAR，不同的是它们包含二进制字符串而不要非二进制字符串。也就是说，它们包含字节字符串而不是字符字符串。这说明它们没有字符集，并且排序和比较基于列值字节的数值值。
>
> BLOB 是一个二进制大对象，可以容纳可变数量的数据。有 4 种 BLOB 类型：TINYBLOB、BLOB、MEDIUMBLOB 和 LONGBLOB。它们区别在于可容纳存储范围不同。
>
> 有 4 种 TEXT 类型：TINYTEXT、TEXT、MEDIUMTEXT 和 LONGTEXT。对应的这 4 种 BLOB 类型，可存储的最大长度不同，可根据实际情况选择。



#### 数值类型

| 类型         | 大小                                     | 范围（有符号）                                               | 范围（无符号）                                               | 用途            |
| ------------ | ---------------------------------------- | ------------------------------------------------------------ | ------------------------------------------------------------ | --------------- |
| TINYINT      | 1 byte                                   | (-128，127)                                                  | (0，255)                                                     | 小整数值        |
| SMALLINT     | 2 bytes                                  | (-32 768，32 767)                                            | (0，65 535)                                                  | 大整数值        |
| MEDIUMINT    | 3 bytes                                  | (-8 388 608，8 388 607)                                      | (0，16 777 215)                                              | 大整数值        |
| INT或INTEGER | 4 bytes                                  | (-2 147 483 648，2 147 483 647)                              | (0，4 294 967 295)                                           | 大整数值        |
| BIGINT       | 8 bytes                                  | (-9,223,372,036,854,775,808，9 223 372 036 854 775 807)      | (0，18 446 744 073 709 551 615)                              | 极大整数值      |
| FLOAT        | 4 bytes                                  | (-3.402 823 466 E+38，-1.175 494 351 E-38)，0，(1.175 494 351 E-38，3.402 823 466 351 E+38) | 0，(1.175 494 351 E-38，3.402 823 466 E+38)                  | 单精度 浮点数值 |
| DOUBLE       | 8 bytes                                  | (-1.797 693 134 862 315 7 E+308，-2.225 073 858 507 201 4 E-308)，0，(2.225 073 858 507 201 4 E-308，1.797 693 134 862 315 7 E+308) | 0，(2.225 073 858 507 201 4 E-308，1.797 693 134 862 315 7 E+308) | 双精度 浮点数值 |
| DECIMAL      | 对DECIMAL(M,D) ，如果M>D，为M+2否则为D+2 | 依赖于M和D的值                                               | 依赖于M和D的值                                               | 小数值          |





#### 日期和时间类型

| 类型      | 大小（字节） | 范围                                                         | 格式                | 用途                     |
| --------- | ------------ | ------------------------------------------------------------ | ------------------- | ------------------------ |
| DATE      | 3            | 1000-01-01/9999-12-31                                        | YYYY-MM-DD          | 日期值                   |
| TIME      | 3            | '-838:59:59'/'838:59:59'                                     | HH:MM:SS            | 时间值或持续时间         |
| YEAR      | 1            | 1901/2155                                                    | YYYY                | 年份值                   |
| DATETIME  | 8            | 1000-01-01 00:00:00/9999-12-31 23:59:59                      | YYYY-MM-DD HH:MM:SS | 混合日期和时间值         |
| TIMESTAMP | 4            | 1970-01-01 00:00:00/2038结束时间是第 **2147483647** 秒，北京时间 **2038-1-19 11:14:07**，格林尼治时间 2038年1月19日 凌晨 03:14:07 | YYYYMMDD HHMMSS     | 混合日期和时间值，时间戳 |



### 数据表基本语法

```mysql
# 查看数据库下所有数据表
SHOW TABLES;

# 创建数据表
CREATE TABLE name(
字段定义
);

# 查看数据表字段
DESC name;

# 删除数据表
DROP TABLE name;
```



